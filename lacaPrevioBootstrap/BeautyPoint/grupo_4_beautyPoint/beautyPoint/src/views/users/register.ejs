<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head.ejs', {title: "Registro"})%>
  <body>
    <%- include('../partials/header.ejs')%>
    <main class="register-main">
      <form
        action="/users/register"
        method="POST"
        class="form-register"
        enctype="multipart/form-data"
      >
        <h1>Crear cuenta</h1>

        <div class="errores">
          <ul>
            
          </ul>
        </div>

        <div class="form-element">
          <label for="first_name">Nombres:</label>
          <input
            type="text"
            id="first_name"
            name="first_name"
            placeholder="Ingresá tu nombre"
            class="<%= (locals.errors && errors.first_name) ? 'is-invalid' : null %> first_name"
            value="<%= (locals.oldData) ? oldData.first_name : null %>"
          />
          <% if (locals.errors && errors.first_name) { %>
          <span class="feedback"> <%= errors.first_name.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <label for="last_name">Apellido:</label>
          <input
            type="text"
            id="last_name"
            name="last_name"
            placeholder="Ingresá tu apellido"
            class="<%= (locals.errors && errors.last_name) ? 'is-invalid' : null %> last_name"
            value="<%= (locals.oldData) ? oldData.last_name : null %>"
          />
          <% if (locals.errors && errors.last_name) { %>
          <span class="feedback"> <%= errors.last_name.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <label for="dni">DNI:</label>
          <input
            type="number"
            name="dni"
            id="dni"
            placeholder="Ingresá tu DNI (sin puntos. Ej. 12345678)"
            class="<%= (locals.errors && errors.dni) ? 'is-invalid' : null %> dni"
            value="<%= (locals.oldData) ? oldData.dni : null %>"
          />
          <% if (locals.errors && errors.dni) { %>
          <span class="feedback"> <%= errors.dni.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <label for="email">E-mail:</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="Ingresá tu correo"
            class="<%= (locals.errors && errors.email) ? 'is-invalid' : null %>"
            value="<%= (locals.oldData) ? oldData.email : null %>"
          />
          <% if (locals.errors && errors.email) { %>
          <span class="feedback"> <%= errors.email.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <label for="phone">Celular:</label>
          <input
            type="text"
            name="phone"
            id="phone"
            placeholder="Ingresá tu celular (sólo números)"
            class="<%= (locals.errors && errors.phone) ? 'is-invalid' : null %>"
            value="<%= (locals.oldData) ? oldData.phone : null %>"
          />
          <% if (locals.errors && errors.phone) { %>
          <span class="feedback"> <%= errors.phone.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <label for="image">Foto de perfil:</label>
          <input type="file" name="image" id="image" accept=".jpg, .png" />
          <% if (locals.errors && errors.image) { %>
          <span class="feedback"> <%= errors.image.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <label for="password">Contraseña:</label>
          <input
            type="password"
            name="password"
            id="password"
            placeholder="Elegí una contraseña"
            class="<%= (locals.errors && errors.password) ? 'is-invalid' : null %>"
          />
          <% if (locals.errors && errors.password) { %>
          <span class="feedback"> <%= errors.password.msg %> </span>
          <% } %>
        </div>
        <div class="form-element">
          <label for="repeatPassword">Repetir contraseña:</label>
          <input
            type="password"
            name="repeatPassword"
            id="repeatPassword"
            placeholder="Repetí tu contraseña"
            class="<%= (locals.errors && errors.repeatPassword) ? 'is-invalid' : null %>"
          />
          <% if (locals.errors && errors.repeatPassword) { %>
          <span class="feedback"> <%= errors.repeatPassword.msg %> </span>
          <% } %>
        </div>

        <div class="form-element">
          <div class="form-botonera">
            <button type="submit" value="REGISTRAR" class="form-boton">
              Crear cuenta
            </button>

            <button type="reset" value="LIMPIAR" class="form-boton">
              Cancelar
            </button>
          </div>
        </div>
      </form>
    </main>
    <%- include('../partials/footer.ejs')%>
    <script src="/js/register.js"></script>
  </body>
</html>
